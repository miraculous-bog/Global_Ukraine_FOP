const dataFeedback = [
	[
		{
			id: '00',
			imgMin: "feedback1mini.png",
			imgMax: "feedback1max.jpg",
			ukrTitle: "Геннадій ДРУЖЕНКО",
			ukrDescription: "Співзасновник та президент ПДМШ ім. Миколи Пирогова",
			ukrText: "На початку війни ми зіштовхнулися з проблемою, коли більш ніж половина пожертв з-за кордону, які йшли на ПДМШ, не могли потрапити в Україну. Банки США, Канади, Британії та ЄС блокували трансакції як підозрілі. А гроші, які доходили, йшли тижнями, коли вони були конче потрібні «тут і зараз».<br> Тому українцям вкрай важливо мати свій необанк у Європі, який буде ЄС-івським та українським банком водночас. З усіма гарантіями та репутацією європейського банку і технологічністю українського.<br> Перший добровольчий мобільний шпиталь (ПДМШ) ім. Миколи Пирогова з нетерпінням чекає, коли стане одним із перших клієнтів необанку Global Ukraine.",
			engTitle: "Gennadiy DRUZENKO",
			engDescription: "Co-founder and president of Mykola Pyrohov First Volunteer Mobile Hospital",
			engText: `At the beginning of the war, we faced up with a problem when more than a half of the donations from abroad, directed to Mykola Pyrohov First Volunteer Mobile Hospital, couldn't be transferred to Ukraine. Banks of the USA, Canada, UK and the EU blocked these transactions as suspicious. We need that donations "here and now", but it took several weeks to receive them.<br> Therefore, it is extremely important for Ukrainians to have their own financial payments institution in Europe.<br> And it should be an EU bank and a Ukrainian bank at the same time - with all the guarantees and reputation of a European bank and the technology of a Ukrainian bank. Mykola Pyrohov First Volunteer Mobile Hospital  is looking forward to becoming one of the first clients of the Global Ukraine fintech services.`
		},

		{
			id: '01',
			imgMin: "feedback4mini.png",
			imgMax: "feedback4max.jpg",
			ukrTitle: "Др Віолета МОСКАЛУ",
			ukrDescription: "засновниця Global Ukraine",
			ukrText: `Наша місія - створити міцний фундамент для збільшення українського впливу у світі. Наш проєкт керується відомим принципом Митрополита Андрія Шептицького "свій до свого по своє", пропонуючи зручний та безпечний банкінг:  <br> - Українцям в Європі, які потребують європейського банківського рахунку для зручного управління операціями в євро. <br> - Українським ФОП-ам в Європі, які працюють з Європейськими або міжнародними партнерами та прагнуть фінансової стабільності, без конверсійних комісій та обмежень національних банків. <br> - Українським благодійним фондам, щоб українська діаспора Європи змогла робити більше донатів без жодних комісій. <br> - Всім українцям, хто підтримує створення української глобальної фінансової системи, з безкоштовними переказами, програмами лояльності та з можливістю генерувати соціальний кешбек для розвитку українських громад у світі.  <br><br> Банківський додаток Global Ukraine Card - це важливий крок до створення цієї глобальної української екосистеми, коли волонтерські рухи, український бізнес та громади працюють спільно задля наближення перемоги України.   Половина прибутку необанку буде спрямована на підтримку та захист українських громад у світі !`,
			engTitle: "Dr. Violeta MOSKALU",
			engDescription: "Founder of Global Ukraine",
			engText: `Our mission is to create a solid foundation for increasing Ukrainian influence in the world. Our project offers convenient and safe banking for:
			<br>- Ukrainians in Europe who need a European bank account for management of operations in euros.
			<br>- To Ukrainian private entrepreneurships proprietorships in Europe who work with European or international partners and seek financial stability, without conversion commissions and restrictions of national banks.
			<br>- To Ukrainian charitable foundations, so that the Ukrainian diaspora in Europe can make more donations without any commissions.
			<br>- To all Ukrainians who support the creation of the Ukrainian global financial system, with free transfers, loyalty programs and the ability to generate social cashback for the development of Ukrainian communities in the world.<br><br>
			The Global Ukraine Card banking application is an important step towards the creation of this global Ukrainian ecosystem, when volunteer movements, Ukrainian businesses and communities work together to bring Ukraine closer to victory.
			Half of the profits of the neobank will be directed to the support and protection of Ukrainian communities worldwide`
		}
	], [
		{
			id: '10',
			imgMin: "feedback3mini.png",
			imgMax: "feedback3max.jpg",
			ukrTitle: "Надія ТОРОУС",
			ukrDescription: "Віце-президентка ЕLU",
			ukrText: "Українці навчаються, працюють, творять в Європі вже десятиліттями. Водночас вони не розривають зв’язку з країною, інвестуючи в різноманітні бізнес, наукові та культурні проєкти. Підтримка студентських обмінів та волонтерського руху завжди були важливими для нашої неурядової асоціації ELU (Обміни Лотарингія Україна), а з початком війни стали пріорітетними. Ми дуже швидко стикнулись з проблемою фінансування всіх типів проєктів. Тут потрібен банк, який не тільки є недорогим та ефективним, але й надійним. Тому що прозорість, довіра і репутація благодійних проєктів є основною складовою їх успіху! І ми щиро радіємо, що нарешті в нас буде саме такий банк! Банк, за яким стоїть команда професіоналів, що щиро вірять в благополуччя і розвиток України, як невід'ємної складової успіху Європи.",
			engTitle: "Nadia TOROUS",
			engDescription: "Vice-president of ELU",
			engText: `Ukrainians have been studying, working, and creating in Europe for decades. At the same time, they do not sever ties with Ukraine, investing in various business, scientific and cultural projects.
			Support of student exchanges and the volunteer movement have always been important for our non-governmental association ELU (Exchanges Lorraine Ukraine), and with the beginning of the war became a priority. We very quickly faced up with the problem of financing all types of projects. We need a bank that is not only inexpensive and efficient, but also reliable, because transparency, trust and reputation are the main components of success of charity projects. And we are very happy that finally we have such a bank, which is created by a team of professionals who sincerely believe in the well-being and development of Ukraine as an integral part of Europe's success.`
		}, {
			id: '11',
			imgMin: "feedback2mini.png",
			imgMax: "feedback2max.jpg",
			ukrTitle: "Станіслав ПРУССОВ",
			ukrDescription: "Український підприємець, ФОП",
			ukrText: "Успіх України починається з успіху та добробуту кожного з нас. Коли твоя справа приносить прибуток - ти платиш податки, донатиш на армію і робиш свій внесок у перемогу. Тому для українських ФОПів, які співпрацюють із міжнародними замовниками, хочуть залишатися українськими й допомагати рідній країні - банківський додаток Global Ukraine Card є оптимальним рішенням!   Ставши клієнтом фінтех стартапу Global Ukraine, я значно полегшив собі ведення співпраці з міжнародними партнерами. Додаток дозволяє керувати своїми фінансами просто, при цьому з гарантією і безпекою, як у європейських банках. Можна відкрити кілька карток на один IBAN для усіх своїх потреб, і перекази між картками Global Ukraine - безлімітні та безкоштовні.   Усім раджу завантажити додаток і переконатися у всіх його перевагах! Тим більше, що банківський додаток Global Ukraine Card надає новим користувачам безкоштовний пробний період !",
			engTitle: "Stanislav PRUSSOV",
			engDescription: "Ukrainian entrepreneur, PE",
			engText: `The success of Ukraine begins with the success and growth of each of us. When your business brings profit, you pay taxes, donate to the army and contribute to victory. Therefore, for Ukrainian private entrepreneurships proprietorships, which cooperate with international customers, want to remain Ukrainian and help their country - the Global Ukraine Card banking application is the optimal solution! Having become a client of the fintech startup Global Ukraine, cooperation with international partners became much easier for me. The application allows you to manage your finances in a simple way, with the same guarantee and security as in European banks. You can open several cards with one IBAN for all your needs, and transfers between Global Ukraine cards are unlimited and free. I advise everyone to download the application and discover all its advantages! Especially since the Global Ukraine Card banking application propose free trial period for new users.`
		}
	]];

const refs = {
	slider: document.querySelector('.slider-wrapper'),
}
const getLanguageVersion = (ua, eng) => {
	let hash = window.location.hash;
	hash = hash.substr(1);
	if (hash === 'ua') return ua;
	else return eng;
}
const cutStr = (str) => {
	const lenCurrentStr = str.length;
	if (lenCurrentStr >= 360) {
		return str.substr(0, 360) + '...';
	} else return str; s
}
const getMurcupPage = (item) => {
	return `<div class="slider-slide">
	<div class="mission__item">
		<img src="img/${item[0].imgMin}" alt="${item[0].engTitle}">
		<div class="mission__item-info">
			<h4 class="mission__item-info-name">${getLanguageVersion(item[0].ukrTitle, item[0].engTitle)}</h4>
			<h5 class="mission__item-info-description">${getLanguageVersion(item[0].ukrDescription, item[0].engDescription)}</h5>
			<p class="mission__item-info-text">${cutStr(getLanguageVersion(item[0].ukrText, item[0].engText))}</p>
			<p class="mission__item-info-btn" data-id="${item[0].id}">${getLanguageVersion('Показати більше..', 'Show more...')}</p>
		</div>
	</div>
	<div class="mission__item rigth-item-mision">
		<div class="mission__item-info rigth-item-mision-inf">
			<h4 class="mission__item-info-name">${getLanguageVersion(item[1].ukrTitle, item[1].engTitle)}</h4>
			<h5 class="mission__item-info-description">${getLanguageVersion(item[1].ukrDescription, item[1].engDescription)}</h5>
			<p class="mission__item-info-text">${cutStr(getLanguageVersion(item[1].ukrText, item[1].engText))}</p>
			<p class="mission__item-info-btn" data-id="${item[1].id}">${getLanguageVersion('Показати більше..', 'Show more...')}</p>
		</div>
		<img src="img/${item[1].imgMin}" alt="${item[1].engTitle}">
	</div>
	<div class="clear"></div>
</div>`;
}

const getAllFeedbackMurcup = () => dataFeedback.map(item => getMurcupPage(item)).join("");
console.log(getAllFeedbackMurcup());
refs.slider.innerHTML = getAllFeedbackMurcup();


const buttons = document.querySelectorAll('.mission__item-info-btn');

const getMurcupModal = (info) => {
	return `<div class="overlay">
		<div class="content">
			<i class="fa fa-times close" aria-hidden="true"></i>
			<img src="img/${info.imgMax}" alt="${info.title}">
			<h3 class="content-title">${getLanguageVersion(info.ukrTitle, info.engTitle)}</h3>
			<p class="content-description">${getLanguageVersion(info.ukrDescription, info.engDescription)}</p>
			<p class="content-text">${getLanguageVersion(info.ukrText, info.engText)}</p>
			<button class="tarifs-net__item-btn backAfterModal lng-btn-close content-btn">${getLanguageVersion('Назад', 'Close')}</button>
		</div>
	</div>`;
}

const handlerClose = (e) => {
	const mymodal = document.querySelector('.mymodal');
	mymodal.style.display = 'none';
}

const handlerSlide = (e) => {
	const currentItem = e.currentTarget.dataset.id;
	console.log(currentItem[0], currentItem[1]);
	const elementModalInfo = dataFeedback[Number(`${currentItem[0]}`)][Number(`${currentItem[1]}`)];
	const mymodal = document.querySelector('.mymodal');
	mymodal.innerHTML = getMurcupModal(elementModalInfo);
	mymodal.style.display = 'block';
	const backAfterModal = document.querySelector('.backAfterModal');
	backAfterModal.addEventListener("click", handlerClose);
}


buttons.forEach(item => item.addEventListener('click', handlerSlide));